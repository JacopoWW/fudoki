# 日本語読み上げ・分割ツール (JA Reader)

ブラウザだけで動作するシンプルなツールです。日本語テキストを貼り付けて単語に分割し、ブロックや全文をクリックで読み上げできます。ライト/ダークテーマ、音声の選択（日本語/英語のみ表示）、読み上げ速度の調整に対応し、設定とテキスト内容はローカルに保存されます。

## 特長
- 全文読み上げと語単位の読み上げ（Web Speech API 使用）
- 単語分割クリック再生：`Intl.Segmenter` を利用（フォールバックあり）
- ふりがな表示（ruby）：単語上部に簡易ふりがなを表示（漢字語は近似）
- テーマ切替：ワンクリックでライト/ダーク、システム設定も尊重し保存
- 音声選択：システム提供の日本語/英語音声のみ表示して記憶
- 速度調整：0.5x–2.0x、設定を保存
- テキスト保存：`localStorage` に保存し、再読込後も復元
- 完全な静的ホスティング：バックエンドやビルド不要

## ディレクトリ構成
```
ja-reader/
├── index.html     # ページ本体
├── styles.css     # テーマとスタイル
└── script.js      # 分割・読み上げ・設定のロジック
```

## ローカルで開く
- 方法 A: `index.html` をダブルクリックしてブラウザで開く
- 方法 B: 簡易サーバー経由（推奨）
  - Node: `npx http-server . -p 8080` → `http://localhost:8080/ja-reader/`
  - Python: `python3 -m http.server 8080` → 同上

> 注意: 利用可能な音声はブラウザと OS に依存します。リストが空/日本語がない場合は下記 FAQ を参照してください。

## 使い方
1. テキストエリアに日本語テキストを貼り付けます。
2. 「全文を再生」で全文読み上げ、「分割」でクリック可能な語ブロックを生成します。
3. 「音声」セレクトで音声を選択（日本語/英語のみ表示）。
4. 「速度」スライダーで読み上げ速度を調整。
5. 右上のボタンでライト/ダークテーマを切替。

テーマ・音声・速度・テキストはすべて `localStorage` に保存され、次回起動時に復元されます。

## 対応ブラウザ
- Chrome / Edge / Safari / Firefox（Web Speech API の実装状況はブラウザにより異なります）
- デスクトップ版 Chrome/Edge または Safari を推奨

## データとプライバシー
- 本ツールは純粋なクライアントサイドで、ネットワーク要求は行いません。
- テキスト・速度・テーマ・音声の選択はブラウザの `localStorage` にのみ保存されます。

## よくある質問（FAQ）
- 日本語/英語の音声が表示されない
  - OS に TTS 音声パックのインストールが必要です：
    - macOS: システム設定 > アクセシビリティ > 読み上げコンテンツ > 声（日本語/英語を追加）
    - Windows: 設定 > 時刻と言語 > 言語と地域（言語＋音声パックを追加）
    - iOS/Android: 端末の TTS 設定から日本語音声を追加
  - インストール後にページを再読み込み、または `speechSynthesis` のリスト更新を待つ
- ふりがなが正確でない
  - かなのみの語は正確ですが、漢字語は近似です。精度向上には辞書/形態素解析の導入が必要です。

## GitHub Pages へのデプロイ（任意）
1. `ja-reader/` をリポジトリにアップロード
2. GitHub の Settings > Pages でブランチを選択し、公開ディレクトリを設定
3. 公開 URL で `/ja-reader/` にアクセス

## ライセンス
プロジェクト方針に合わせて LICENSE を追加してください（このリポジトリには既定のライセンス表記は含まれません）。
