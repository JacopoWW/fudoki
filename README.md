# 日语朗读与拆词工具 (JA Reader)

一个纯前端的小工具：粘贴日语文本，一键拆词，点击词块或整段朗读。支持明暗主题、语音选择（仅列出日语/英语）、语速调节，并在本地记住你的设置与文本内容。

## 功能特点
- 朗读整段与逐词朗读：基于浏览器 Web Speech API。
- 拆词点击朗读：使用 `Intl.Segmenter`（有回退方案）。
- 假名标注（ruby）：为分词结果显示简易假名；含汉字词为近似标注。
- 明暗主题切换：按钮一键切换，随系统偏好并持久化。
- 语音选择：仅显示系统提供的“日语/英语”语音，持久化记忆。
- 语速控制：范围 0.5x–2.0x，可持久化。
- 文本记忆：刷新后仍保留最近一次输入（存储于 `localStorage`）。
- 纯静态部署：无需后端与构建。

## 目录结构
```
ja-reader/
├── index.html     # 页面骨架
├── styles.css     # 明暗主题 + 组件样式
└── script.js      # 拆词、朗读、主题与设置逻辑
```

## 本地运行
- 方式 A：直接双击 `index.html` 用浏览器打开（多数浏览器可用）。
- 方式 B：建议用本地静态服务器打开，兼容性更好：
  - Node: `npx http-server . -p 8080` 然后访问 `http://localhost:8080/ja-reader/`
  - Python: `python3 -m http.server 8080` 然后访问同上

> 提示：Web Speech API 的可用语音依赖你的浏览器和操作系统。若列表为空或没有日语语音，请参考下方“常见问题”。

## 使用说明
1. 在页面文本框粘贴日语文本。
2. 点击“播放整段”朗读全文；点击“拆词”生成可点击的词块。
3. 在“朗读语音”下拉框选择语音（仅列出日语/英语）。
4. 通过“语速”滑块调节朗读速度。
5. 右上角按钮可切换“浅色/深色”外观。

所有选择（主题、语音、语速、文本）都会存入浏览器 `localStorage` 并在下次打开时恢复。

## 浏览器支持
- Chrome/Edge/Safari/Firefox（注意不同浏览器对 Web Speech API 的实现程度不同）。
- 推荐桌面端 Chrome/Edge 或 Safari。

## 数据与隐私
- 本工具为纯前端应用，不发起任何网络请求。
- 文本、语速、主题、语音选择会保存到本机浏览器 `localStorage`，用于下次恢复。

## 常见问题 (FAQ)
- 语音列表没有日语/英语？
  - 需要在系统中安装相应的 TTS 语音包：
    - macOS: 系统设置 > 辅助功能 > 朗读内容 > 声音（添加日语/英语）
    - Windows: 设置 > 时间和语言 > 语言和区域（添加语言与语音包）
    - iOS/Android: 系统 TTS 设置中安装日语语音
  - 安装后重新打开页面，或等待 `speechSynthesis` 语音列表刷新。
- 假名标注不准确？
  - 目前对全假名的词准确；含汉字词使用近似提取。要精准标注需引入日语词典/形态分析（可选增强）。

## 部署到 GitHub Pages（可选）
1. 将 `ja-reader/` 上传到仓库。
2. 在 GitHub 仓库 Settings > Pages 中选择部署分支，并将发布目录设为仓库根或包含 `ja-reader/` 的路径。
3. 打开 Pages 地址并访问 `/ja-reader/` 即可。

## 许可
根据你的项目需求自行添加 LICENSE；本仓库默认未附带许可证说明。
